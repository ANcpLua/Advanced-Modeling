<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="661px" preserveAspectRatio="none" style="width:983px;height:661px;background:#FFFFFF;" version="1.1" viewBox="0 0 983 661" width="983px" zoomAndPan="magnify"><defs/><g><g><title>AuthController</title><rect fill="#FFFFFF" height="443.6641" style="stroke:#181818;stroke-width:1;" width="10" x="327.3306" y="112.4297"/></g><g><title>UserService</title><rect fill="#FFFFFF" height="385.3984" style="stroke:#181818;stroke-width:1;" width="10" x="587.3325" y="141.5625"/></g><g><title>UserRepository</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="786.7397" y="170.6953"/></g><g><title>UserRepository</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="786.7397" y="410.4297"/></g><g><title>EmailService</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="909.5225" y="468.6953"/></g><rect fill="none" height="349.2656" style="stroke:#000000;stroke-width:1.5;" width="966.814" x="10" y="214.8281"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="499.7969" width="8" x="39.2651" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="43" x2="43" y1="81.2969" y2="581.0938"/></g><g><title>AuthController</title><rect fill="#000000" fill-opacity="0.00000" height="499.7969" width="8" x="328.3306" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="331.3379" x2="331.3379" y1="81.2969" y2="581.0938"/></g><g><title>UserService</title><rect fill="#000000" fill-opacity="0.00000" height="499.7969" width="8" x="588.3325" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="591.5068" x2="591.5068" y1="81.2969" y2="581.0938"/></g><g><title>UserRepository</title><rect fill="#000000" fill-opacity="0.00000" height="499.7969" width="8" x="787.7397" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="791.2485" x2="791.2485" y1="81.2969" y2="581.0938"/></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="499.7969" width="8" x="910.5225" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="914.231" x2="914.231" y1="81.2969" y2="581.0938"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="20" y="77.9951">Client</text><ellipse cx="43.2651" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43.2651,21.5 L43.2651,48.5 M30.2651,29.5 L56.2651,29.5 M43.2651,48.5 L30.2651,63.5 M43.2651,48.5 L56.2651,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="20" y="593.0889">Client</text><ellipse cx="43.2651" cy="604.8906" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M43.2651,612.8906 L43.2651,639.8906 M30.2651,620.8906 L56.2651,620.8906 M43.2651,639.8906 L30.2651,654.8906 M43.2651,639.8906 L56.2651,654.8906" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.9854" x="274.3379" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9854" x="281.3379" y="69.9951">AuthController</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.9854" x="274.3379" y="580.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9854" x="281.3379" y="600.0889">AuthController</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.6514" x="543.5068" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6514" x="550.5068" y="69.9951">UserService</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.6514" x="543.5068" y="580.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6514" x="550.5068" y="600.0889">UserService</text></g><g class="participant participant-head" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.9824" x="731.2485" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.9824" x="738.2485" y="69.9951">UserRepository</text></g><g class="participant participant-tail" data-participant="DB"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.9824" x="731.2485" y="580.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.9824" x="738.2485" y="600.0889">UserRepository</text></g><g class="participant participant-head" data-participant="Mail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.583" x="862.231" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.583" x="869.231" y="69.9951">EmailService</text></g><g class="participant participant-tail" data-participant="Mail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.583" x="862.231" y="580.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.583" x="869.231" y="600.0889">EmailService</text></g><g><title>AuthController</title><rect fill="#FFFFFF" height="443.6641" style="stroke:#181818;stroke-width:1;" width="10" x="327.3306" y="112.4297"/></g><g><title>UserService</title><rect fill="#FFFFFF" height="385.3984" style="stroke:#181818;stroke-width:1;" width="10" x="587.3325" y="141.5625"/></g><g><title>UserRepository</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="786.7397" y="170.6953"/></g><g><title>UserRepository</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="786.7397" y="410.4297"/></g><g><title>EmailService</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="909.5225" y="468.6953"/></g><g class="message" data-participant-1="Client" data-participant-2="API"><polygon fill="#181818" points="315.3306,108.4297,325.3306,112.4297,315.3306,116.4297,319.3306,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="43.2651" x2="321.3306" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.0654" x="50.2651" y="107.3638">POST /register {email, password, name}</text></g><g class="message" data-participant-1="API" data-participant-2="Service"><polygon fill="#181818" points="575.3325,137.5625,585.3325,141.5625,575.3325,145.5625,579.3325,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="337.3306" x2="581.3325" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.4966" x="344.3306" y="136.4966">registerUser(dto)</text></g><g class="message" data-participant-1="Service" data-participant-2="DB"><polygon fill="#181818" points="774.7397,166.6953,784.7397,170.6953,774.7397,174.6953,778.7397,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="597.3325" x2="780.7397" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.6206" x="604.3325" y="165.6294">existsByEmail(email)</text></g><g class="message" data-participant-1="DB" data-participant-2="Service"><polygon fill="#181818" points="608.3325,195.8281,598.3325,199.8281,608.3325,203.8281,604.3325,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="602.3325" x2="790.7397" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30.9258" x="614.3325" y="194.7622">false</text></g><path d="M10,214.8281 L74.4429,214.8281 L74.4429,221.9609 L64.4429,231.9609 L10,231.9609 L10,214.8281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="349.2656" style="stroke:#000000;stroke-width:1.5;" width="966.814" x="10" y="214.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="227.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="134.8789" x="89.4429" y="227.0386">[Email already exists]</text><g class="message" data-participant-1="Service" data-participant-2="API"><polygon fill="#181818" points="348.3306,249.0938,338.3306,253.0938,348.3306,257.0938,344.3306,253.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="342.3306" x2="586.3325" y1="253.0938" y2="253.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.002" x="354.3306" y="248.0278">Throw UserAlreadyExistsException</text></g><g class="message" data-participant-1="API" data-participant-2="Client"><polygon fill="#181818" points="54.2651,278.2266,44.2651,282.2266,54.2651,286.2266,50.2651,282.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="48.2651" x2="326.3306" y1="282.2266" y2="282.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.2603" x="60.2651" y="277.1606">409 Conflict</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="976.814" y1="291.2266" y2="291.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90.4224" x="15" y="301.437">[Email unique]</text><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="597.3325" x2="639.3325" y1="326.1641" y2="326.1641"/><line style="stroke:#181818;stroke-width:1;" x1="639.3325" x2="639.3325" y1="326.1641" y2="339.1641"/><line style="stroke:#181818;stroke-width:1;" x1="598.3325" x2="639.3325" y1="339.1641" y2="339.1641"/><polygon fill="#181818" points="608.3325,335.1641,598.3325,339.1641,608.3325,343.1641,604.3325,339.1641" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.8423" x="604.3325" y="321.0981">hashPassword(password)</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="597.3325" x2="639.3325" y1="368.2969" y2="368.2969"/><line style="stroke:#181818;stroke-width:1;" x1="639.3325" x2="639.3325" y1="368.2969" y2="381.2969"/><line style="stroke:#181818;stroke-width:1;" x1="598.3325" x2="639.3325" y1="381.2969" y2="381.2969"/><polygon fill="#181818" points="608.3325,377.2969,598.3325,381.2969,608.3325,385.2969,604.3325,381.2969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4072" x="604.3325" y="363.231">createVerificationToken()</text></g><g class="message" data-participant-1="Service" data-participant-2="DB"><polygon fill="#181818" points="774.7397,406.4297,784.7397,410.4297,774.7397,414.4297,778.7397,410.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="597.3325" x2="780.7397" y1="410.4297" y2="410.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.1299" x="604.3325" y="405.3638">save(User, Token)</text></g><g class="message" data-participant-1="DB" data-participant-2="Service"><polygon fill="#181818" points="608.3325,435.5625,598.3325,439.5625,608.3325,443.5625,604.3325,439.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="602.3325" x2="790.7397" y1="439.5625" y2="439.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.5835" x="614.3325" y="434.4966">UserEntity</text></g><g class="message" data-participant-1="Service" data-participant-2="Mail"><polygon fill="#181818" points="897.5225,464.6953,907.5225,468.6953,897.5225,472.6953,901.5225,468.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="597.3325" x2="903.5225" y1="468.6953" y2="468.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.4575" x="604.3325" y="463.6294">sendVerificationEmail(email, token)</text></g><g class="message" data-participant-1="Mail" data-participant-2="Service"><polygon fill="#181818" points="608.3325,493.8281,598.3325,497.8281,608.3325,501.8281,604.3325,497.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="602.3325" x2="913.5225" y1="497.8281" y2="497.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.1074" x="614.3325" y="492.7622">sent</text></g><g class="message" data-participant-1="Service" data-participant-2="API"><polygon fill="#181818" points="348.3306,522.9609,338.3306,526.9609,348.3306,530.9609,344.3306,526.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="342.3306" x2="591.3325" y1="526.9609" y2="526.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.04" x="354.3306" y="521.895">UserDTO (without password)</text></g><g class="message" data-participant-1="API" data-participant-2="Client"><polygon fill="#181818" points="54.2651,552.0938,44.2651,556.0938,54.2651,560.0938,50.2651,556.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="48.2651" x2="331.3306" y1="556.0938" y2="556.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.6787" x="60.2651" y="551.0278">201 Created</text></g><!--SRC=[TLDDJy904BtlhvXmAWb4D5xaO4A1WmS34VI-QGUxiUpMtU4hnl_kphRWjc8FpRPzRzwRDrEPaR4mBHLg4fMqf39LIKtGc-oec1fDrfGbsXv81vFbKnlpwj2kqEvLXW7GdF-2Nh0oJdcfKy3DqZPalfMgZ0iz-sSXQbimV6JbCImNgpNSM7nNZj325p9h09Lqxc1iFW0jj_WjP4PgBmc3NU5lNA0fFeOpdLqbEPd-B_xiNZG7vitICU3HCrnw2YwJe1gnV2-p58QnnaQM3aMECKR8aY1K05bQbFcfgIl0NnV5Sw_hmfe3iCb9ZPu7yFoOOKNAwC0AlNb6dTCOxaSFu4UsALL60hs7Hd2drUSEsqAHtKAwOjc4c9pJxFyBpxmVmZUqQgCooMRMvWDrqXTT2eVdv1uJxcC00LRNZPFXvsw2J9XhKdGAdpjHTcHuMRmGwZms5Krh07H5EkmOl-53Mzxntz0HhbVowh3OxMozWEIWg30xWdQ8KP7BYbqRtzte5gOXtBpBurNs_Vq0]--></g></svg>